// var collagenPaymentCycle = 0;
// var jointPaymentCycle = 0;
// var premiumPaymentCycle = 0;

// var oneYearSelected = 0;
// var sixMonthsSelected = 0;
// var threeMonthsSelected = 0;
// var oneMonthSelected = 0;

// $(".one-year").click(function () {
//   oneYearSelected = 1;
//   sixMonthsSelected = 0;
//   threeMonthsSelected = 0;
//   oneMonthSelected = 0;

//   collagenPaymentCycle = 1;
// });

// $(".six-months").click(function () {
//   oneYearSelected = 0;
//   sixMonthsSelected = 1;
//   threeMonthsSelected = 0;
//   oneMonthSelected = 0;

//   collagenPaymentCycle = 2;
// });

// $(".three-months").click(function () {
//   oneYearSelected = 0;
//   sixMonthsSelected = 0;
//   threeMonthsSelected = 1;
//   oneMonthSelected = 0;

//   collagenPaymentCycle = 3;
// });

// $(".one-month").click(function () {
//   oneYearSelected = 0;
//   sixMonthsSelected = 0;
//   threeMonthsSelected = 0;
//   oneMonthSelected = 1;

//   collagenPaymentCycle = 4;
// });

// $(".collagen-buy-btn").click(function () {
//   console.log(collagenPaymentCycle);
//   if (collagenPaymentCycle == 0) {
//     alert("Please select a payment cycle");
//   } else if (collagenPaymentCycle == 1) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587731605:1";
//   } else if (collagenPaymentCycle == 2) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587764373:1";
//   } else if (collagenPaymentCycle == 3) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587797141:1";
//   } else if (collagenPaymentCycle == 4) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587829909:1";
//   }
// });

// $(".collagen-buy-btn").click(function () {
//   console.log(collagenPaymentCycle);
//   if (collagenPaymentCycle == 0) {
//     alert("Please select a payment cycle");
//   } else if (collagenPaymentCycle == 1) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587731605:1";
//   } else if (collagenPaymentCycle == 2) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587764373:1";
//   } else if (collagenPaymentCycle == 3) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587797141:1";
//   } else if (collagenPaymentCycle == 4) {
//     window.location = "https://combo-shot.myshopify.com/cart/36971587829909:1";
//   }
// });

// $(".combo-shot-logo").click(function () {
//   window.location = "/pages/home";
// });

// $(".combo-shot-logo-light").click(function () {
//   window.location = "/pages/home";
// });

// $(".one-month").hover(
//   function () {
//     $(".one-month").html("£19.99");
//   },
//   function () {
//     $(".one-month").html("1 MONTH");
//   }
// );

// $(".three-month").hover(
//   function () {
//     $(".three-month").html("£54.99");
//   },
//   function () {
//     $(".three-month").html("3 MONTHS");
//   }
// );

// $(".one-year").hover(
//   function () {
//     $(".one-year").html("£479.98");
//   },
//   function () {
//     $(".one-year").html("1 YEAR");
//   }
// );

// $(".premium-one-month").hover(
//   function () {
//     $(".premium-one-month").html("£19.99");
//   },
//   function () {
//     $(".premium-one-month").html("1 MONTH");
//   }
// );

// $(".premium-three-month").hover(
//   function () {
//     $(".premium-three-month").html("£54.99");
//   },
//   function () {
//     $(".premium-three-month").html("3 MONTHS");
//   }
// );

// $(".premium-one-year").hover(
//   function () {
//     $(".premium-one-year").html("£200.00");
//   },
//   function () {
//     $(".premium-one-year").html("1 YEAR");
//   }
// );

// $(".collagen-one-month").hover(
//   function () {
//     $(".collagen-one-month").html("£19.99");
//   },
//   function () {
//     $(".collagen-one-month").html("1 MONTH");
//   }
// );

// $(".collagen-three-month").hover(
//   function () {
//     $(".collagen-three-month").html("£54.99");
//   },
//   function () {
//     $(".collagen-three-month").html("3 MONTHS");
//   }
// );

// $(".collagen-one-year").hover(
//   function () {
//     $(".collagen-one-year").html("£200.00");
//   },
//   function () {
//     $(".collagen-one-year").html("1 YEAR");
//   }
// );

// $(".joint-one-month").hover(
//   function () {
//     $(".joint-one-month").html("£19.99");
//   },
//   function () {
//     $(".joint-one-month").html("1 MONTH");
//   }
// );

// $(".joint-three-month").hover(
//   function () {
//     $(".joint-three-month").html("£54.99");
//   },
//   function () {
//     $(".joint-three-month").html("3 MONTHS");
//   }
// );

// $(".joint-one-year").hover(
//   function () {
//     $(".joint-one-year").html("£200.00");
//   },
//   function () {
//     $(".joint-one-year").html("1 YEAR");
//   }
// );

// $(".joint-btn").click(function () {
//   document.body.scrollTop = 0;
//   document.documentElement.scrollTop = 0;
//   $(".joint-package").fadeIn();
//   $(".joint-btn").addClass("active-tab");
//   $(".premium-package").fadeOut();
//   $(".premium-btn").removeClass("active-tab");
//   $(".collagen-package").fadeOut();
//   $(".collagen-btn").removeClass("active-tab");
// });

// $(".premium-btn").click(function () {
//   document.body.scrollTop = 0;
//   document.documentElement.scrollTop = 0;
//   $(".joint-package").fadeOut();
//   $(".joint-btn").removeClass("active-tab");
//   $(".premium-package").fadeIn();
//   $(".premium-btn").addClass("active-tab");
//   $(".collagen-package").fadeOut();
//   $(".collagen-btn").removeClass("active-tab");
// });

// $(".collagen-btn").click(function () {
//   document.body.scrollTop = 0;
//   document.documentElement.scrollTop = 0;
//   $(".joint-package").fadeOut();
//   $(".joint-btn").removeClass("active-tab");
//   $(".premium-package").fadeOut();
//   $(".premium-btn").removeClass("active-tab");
//   $(".collagen-package").fadeIn();
//   $(".collagen-btn").addClass("active-tab");
// });

$(".top").on("click", function () {
  $("html, body").animate({ scrollTop: 0 }, "slow");
});

$(".slick-container").slick({
  dots: false,
  arrrow: false,
  infinite: true,
  speed: 300,
  slidesToShow: 3,
  slidesToScroll: 1,
  autoplay: true,
  autoplaySpeed: 5000,
  responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 3,
        infinite: true,
        dots: true,
      },
    },
    {
      breakpoint: 775,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2,
      },
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1,
      },
    },
  ],
});

$(".step-awnser button").on("click", function () {
  $(".button_clicked").removeClass("button_clicked");
  $(this).addClass("button_clicked");
});

$(".checkout-button").on("click", function () {
  $(".selected").removeClass("selected");
  $(this).addClass("selected");
  $(".direct-checkout-link a").attr("href", `/cart/${this.id}:1`);
});

$(".next").on("click", function () {
  let parent = $(this).parents(".step-container");
  this.parentElement.dataset[
    Object.keys(this.parentElement.dataset)[0]
  ] = this.textContent;
  if (parent.next().length) {
    $(".current-step")
      .addClass("step-completed")
      .removeClass("current-step")
      .next()
      .addClass("current-step");
    parent.fadeOut("slow", function () {
      parent.next().removeClass("d-none");
    });
  } else {
    console.log("no next");
    // window.location = '/'
  }
});

$('.products-names p:not(".actual")').each(function (i) {
  $(this).css({ order: `${i * 3}` });
});

$(".direct-checkout-link a").on("click", function (e) {
  if ($(this).attr("href") === "#") {
    e.preventDefault();
    alert("please select a package before continue");
  }
});

$("#modal-button").on("click", function () {
  window.location = this.href;
  $(".modal-overlay").addClass("d-none");
});

$(".open-modal").on("click", function () {
  let awnsers = getData();
  let recommended = getRecommended(awnsers);
  if (recommended) {
    $(".recommended").text(recommended.name);
    $("#modal-button").attr("href", recommended.link);
    $(".modal-overlay").removeClass("d-none");
    $(".modal-img").attr("src", recommended.img);
  }
  console.log(recommended);
});

function getRecommended(object) {
  const { question1, question2, question3 } = object;
  let product = "";
  let name = "";
  let shopifyProduct = {};

  switch (true) {
    case question1 == "yes" && question2 == "yes" && question3 == "yes":
      name = "Premium Care Package";
      shopifyProduct = products.find((e) => e.title.includes(name));
      product = {
        link: "/products/" + shopifyProduct.handle,
        name,
        img: shopifyProduct.featured_image,
      };
      break;
    case question1 == "yes" && question2 == "yes":
      name = "Joint Care Package";
      shopifyProduct = products.find((e) => e.title.includes(name));
      product = {
        link: "/products/" + shopifyProduct.handle,
        name,
        img: shopifyProduct.featured_image,
      };
      break;
    case question1 == "yes" && question3 == "yes":
      name = "Collagen Care Package";
      shopifyProduct = products.find((e) => e.title.includes(name));
      product = {
        link: "/products/" + shopifyProduct.handle,
        name,
        img: shopifyProduct.featured_image,
      };
      break;
    case question1 == "yes":
      name = "Joint Support";
      shopifyProduct = products.find((e) => e.title.includes(name));
      product = {
        link: "/products/" + shopifyProduct.handle,
        name,
        img: shopifyProduct.featured_image,
      };
      break;
    case question2 == "yes":
      name = "Ultra vitamins+";
      shopifyProduct = products.find((e) => e.title.includes(name));
      product = {
        link: "/products/" + shopifyProduct.handle,
        name,
        img: shopifyProduct.featured_image,
      };
      break;
    case question3 == "yes":
      name = "Collagen V12";
      shopifyProduct = products.find((e) => e.title.includes(name));
      product = {
        link: "/products/" + shopifyProduct.handle,
        name,
        img: shopifyProduct.featured_image,
      };
      break;
    default:
      window.location = "/";
      break;
  }
  return product;
}

function getData() {
  let awnsers = {};
  $(".step-awnser").each(function () {
    let key = Object.keys($(this).data())[0];
    awnsers[key] = $(this).data(key);
  });
  return awnsers;
}
